{% extends "layout.html" %}

{% block content %}
<div class="create-background">
  <!-- CreateForm 컴포넌트 포함 -->
  {% include 'components/create_form.html' %}
  
  <!-- 로그아웃 버튼 -->
  <button class="logout-button" onclick="handleLogOut()">로그아웃</button>
  
  <!-- PlayListMember 컴포넌트 포함 -->
  {% include 'components/play_list_member.html' %}
</div>

<script>
  // 로그아웃 처리 함수
  function handleLogOut() {
    // 서버에 로그아웃 요청
    fetch('/auth/logout', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
      },
    })
    .then(response => {
      if (response.ok) {
        // 로그아웃 성공시 홈페이지로 이동
        window.location.href = '/';
      } else {
        console.error('로그아웃 실패');
      }
    })
    .catch(error => {
      console.error('로그아웃 요청 오류:', error);
    });
  }
</script>
{% endblock %}